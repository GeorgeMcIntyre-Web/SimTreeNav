-- Seed data for local dev: one project and a small tree (no dump required)
-- Run as SYS AS SYSDBA after 01-create-seed-schema.sql.
-- Tree launcher: schema DESIGN1, project "Local Dev Project" (ID 100).

WHENEVER SQLERROR EXIT FAILURE
SET ECHO ON

-- Types used by our seed nodes (TYPE_ID matches CLASS_DEFINITIONS used by tree/fallbacks)
INSERT INTO DESIGN1.CLASS_DEFINITIONS (TYPE_ID, NAME, NICE_NAME, DERIVED_FROM) VALUES (14, 'class PmNode', 'Node', NULL);
INSERT INTO DESIGN1.CLASS_DEFINITIONS (TYPE_ID, NAME, NICE_NAME, DERIVED_FROM) VALUES (18, 'class Collection', 'Collection', 14);
INSERT INTO DESIGN1.CLASS_DEFINITIONS (TYPE_ID, NAME, NICE_NAME, DERIVED_FROM) VALUES (64, 'class PmProject', 'Project', 14);
INSERT INTO DESIGN1.CLASS_DEFINITIONS (TYPE_ID, NAME, NICE_NAME, DERIVED_FROM) VALUES (72, 'class PmStudyFolder', 'StudyFolder', 18);
INSERT INTO DESIGN1.CLASS_DEFINITIONS (TYPE_ID, NAME, NICE_NAME, DERIVED_FROM) VALUES (177, 'class PmRobcadStudy', 'RobcadStudy', 72);
COMMIT;

-- Root project (OBJECT_ID = 100)
INSERT INTO DESIGN1.COLLECTION_ (OBJECT_ID, CAPTION_S_, NAME_, NAME1_S_, EXTERNALID_S_, CLASS_ID, MODIFICATIONDATE_DA_)
VALUES (100, 'Local Dev Project', 'Local_Dev_Project', 'Local Dev Project', 'LOCAL_DEV', 64, SYSDATE);

-- Children of root: Studies folder, Resources folder, one study
INSERT INTO DESIGN1.COLLECTION_ (OBJECT_ID, CAPTION_S_, NAME_, NAME1_S_, EXTERNALID_S_, CLASS_ID, MODIFICATIONDATE_DA_)
VALUES (101, 'Studies', 'Studies', 'Studies', NULL, 72, SYSDATE);
INSERT INTO DESIGN1.COLLECTION_ (OBJECT_ID, CAPTION_S_, NAME_, NAME1_S_, EXTERNALID_S_, CLASS_ID, MODIFICATIONDATE_DA_)
VALUES (102, 'Resources', 'Resources', 'Resources', NULL, 18, SYSDATE);
INSERT INTO DESIGN1.COLLECTION_ (OBJECT_ID, CAPTION_S_, NAME_, NAME1_S_, EXTERNALID_S_, CLASS_ID, MODIFICATIONDATE_DA_)
VALUES (103, 'Sample Study', 'Sample_Study', 'Sample Study', NULL, 177, SYSDATE);

-- REL_COMMON: (child OBJECT_ID, parent FORWARD_OBJECT_ID, PROJECT_ID, SEQ_NUMBER)
-- Project ID = 100 (same as root). Root has no parent row (it's level 0).
INSERT INTO DESIGN1.REL_COMMON (REL_COMMON_ID, OBJECT_ID, FORWARD_OBJECT_ID, PROJECT_ID, SEQ_NUMBER) VALUES (1, 101, 100, 100, 1);
INSERT INTO DESIGN1.REL_COMMON (REL_COMMON_ID, OBJECT_ID, FORWARD_OBJECT_ID, PROJECT_ID, SEQ_NUMBER) VALUES (2, 102, 100, 100, 2);
INSERT INTO DESIGN1.REL_COMMON (REL_COMMON_ID, OBJECT_ID, FORWARD_OBJECT_ID, PROJECT_ID, SEQ_NUMBER) VALUES (3, 103, 101, 100, 1);
COMMIT;

-- Optional: one user for checkout display testing
INSERT INTO DESIGN1.USER_ (OBJECT_ID, CAPTION_S_, NAME_) VALUES (1, 'Dev User', 'devuser');
COMMIT;

-- DFPROJECT: so tree launcher lists "Local Dev Project" (OBJECT_ID 100 = root)
INSERT INTO DESIGN1.DFPROJECT (PROJECTID) VALUES (100);
COMMIT;

PROMPT Seed data loaded. Use schema DESIGN1, project ID 100 in tree launcher.
EXIT;
