-- Seed DF_ICONS_DATA with minimal placeholder BMP BLOBs (so tree shows icons without fallback)
-- Run as SYS AS SYSDBA after 03-seed-extended-data.sql.
-- Each row: TYPE_ID -> CLASS_IMAGE (BLOB). Tree script extracts these and embeds as Base64.

WHENEVER SQLERROR EXIT FAILURE
SET ECHO ON

-- Minimal 24-bit 1x1 BMP: 54-byte header + 4-byte pixel (BGR + padding) = 58 bytes total
-- Hex: BM, size 58, reserved 0, offset 54, DIB 40, 1x1, 1 plane, 24bpp, no compression, zeros, then BGR pixel + pad
DEFINE BMP_HEX = '424D3A0000000000000036000000280000000100000001000000010018000000000000000000000000000000000000000000000000000000FF000000'

-- Insert placeholder icon for TYPE_IDs used in our seed (Project, Collection, StudyFolder, RobcadStudy, Node, PartLibrary, etc.)
-- Same tiny BMP for all; real dumps have proper icons per type.
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (14, HEXTORAW('424D3A0000000000000036000000280000000100000001000000010018000000000000000000000000000000000000000000000000000000FF000000'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (18, HEXTORAW('424D3A000000000000003600000028000000010000000100000001001800000000000000000000000000000000000000000000000000000000FF0000'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (64, HEXTORAW('424D3A00000000000000360000002800000001000000010000000100180000000000000000000000000000000000000000000000000000000000FF00'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (72, HEXTORAW('424D3A0000000000000036000000280000000100000001000000010018000000000000000000000000000000000000000000000000000000000000FF'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (177, HEXTORAW('424D3A0000000000000036000000280000000100000001000000010018000000000000000000000000000000000000000000000000000000FF00FF00'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (69, HEXTORAW('424D3A000000000000003600000028000000010000000100000001001800000000000000000000000000000000000000000000000000000000FF00FF'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (70, HEXTORAW('424D3A0000000000000036000000280000000100000001000000010018000000000000000000000000000000000000000000000000000000FF0000FF'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (46, HEXTORAW('424D3A00000000000000360000002800000001000000010000000100180000000000000000000000000000000000000000000000000000000000FF00'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (162, HEXTORAW('424D3A0000000000000036000000280000000100000001000000010018000000000000000000000000000000000000000000000000000000000000FF'));
INSERT INTO DESIGN1.DF_ICONS_DATA (TYPE_ID, CLASS_IMAGE) VALUES (164, HEXTORAW('424D3A0000000000000036000000280000000100000001000000010018000000000000000000000000000000000000000000000000000000FFFF0000'));
COMMIT;

PROMPT Icon placeholders loaded. Regenerate tree to see icons (or use -AllowIconFallback for class fallbacks).
EXIT;
